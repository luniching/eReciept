var util = require('util'),
	path = require('path'),
	fsutil = require('../fsutil'),
	Processor = require('./processor');

/**
 * Generic file copier
 */
var FileCopier = module.exports = function(src, dest, next) {
	Processor.apply(this, [src, dest, /(\.css|\.js|\.png|\.gif|\.jp(?:e)?g|\.htm(?:l)?)$/ig, next]);
};

util.inherits(FileCopier, Processor);

FileCopier.prototype._process = function(file, callback) {
	var src = path.join(this._src, file),
		dest = path.join(this._dest, file);
	fsutil.copy(src, dest, callback);
};